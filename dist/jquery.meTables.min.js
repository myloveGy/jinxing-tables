!function(e){var t,a,i,s;Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},e.getValue=function(t,a,i){if(!t||"object"!=typeof t)return i;if("string"==typeof a){var s=a.lastIndexOf(".");-1!==a.lastIndexOf(".")&&(t=e.getValue(t,a.substr(0,s),i),a=a.substr(s+1))}return a in t?t[a]:t[a]?t[a]:i};var n=function(t){this.getUrl=function(e){return this.options.urlPrefix+this.options.url[e]+this.options.urlSuffix},this.render=function(){this.options.form.id=this.options.formSelector.replace("#","");var t=this,a="<form "+n.handleParams(this.options.form)+"><fieldset>",i='<table class="table table-bordered table-striped table-detail">',s=[],o=[];this.options.table.columns.forEach(function(l,r){e.getValue(l,"view",!0)&&(i+=n.detailTableCreate(l.title,l.data,r,t.options.detailTable)),e.getValue(l,"edit",null)&&(a+=n.formCreate(l,t.options.editFormParams)),e.getValue(l,"search",null)&&(t.options.searchHtml+=n.searchInputCreate(l,r,t.options.searchType)),e.getValue(l,"defaultOrder",null)&&s.push([r,l.defaultOrder]),e.getValue(l,"hide")&&o.push(r),e.isEmptyObject(e.getValue(l,"editable"))||(l.editable.name=l.editable.name||l.data,t.options.editable[l.editable.name]={source:l.value,send:"always",url:t.getUrl("editable"),title:l.title,success:function(e){if(!t.options.isSuccess(e))return t.options.getMessage(e)},error:function(){layer.msg(e.getValue(n.language,"serverError"),{icon:5})}},t.options.editable[l.editable.name]=t.extend(t.options.editable[l.editable.name],l.editable),l.class="my-edit edit-"+l.editable.name)}),t.options.editable&&(t.options.table.fnDrawCallback=function(){for(var a in t.options.editable)e(this).find("tbody tr td.edit-"+a).each(function(){var i=t.table.row(e(this).closest("tr")).data(),s={};i&&(s.value=e.getValue(i,a),s.pk=i[t.options.pk]),e(this).editable(e.extend(!0,{},t.options.editable[a],s))})}),t.options.editFormParams.multiCols&&n.empty(t.options.editFormParams.modalClass)&&(t.options.editFormParams.modalClass="modal-lg"),t.options.editFormParams.multiCols&&t.options.editFormParams.index%t.options.editFormParams.cols!=t.options.editFormParams.cols-1&&(a+="</div>");var l=n.modalCreate({params:{id:t.options.modalSelector.replace("#","")},html:a,buttonId:t.options.unique+"-save",modalClass:t.options.editFormParams.modalClass},{params:{id:"data-detail-"+t.options.unique},html:i});s.length>0&&(this.options.table.order=s),o.length>0&&(this.options.table.columnDefs?this.options.table.columnDefs.push({targets:o,visible:!1}):this.options.table.columnDefs=[{targets:o,visible:!1}]),e("body").append(l)},this.searchRender=function(){if("middle"===this.options.searchType){if(e.isFunction(e.getValue(this.options,"searchMiddleHandle")))return void this.options.searchMiddleHandle(this);e(this).parent().parent().parent().find("div.row:first>div.col-sm-6:first").removeClass("col-sm-6").addClass("col-sm-2").next().removeClass("col-sm-6").addClass("col-sm-10").html('<form id="'+this.options.searchForm.replace("#","")+'" class="pull-right">'+this.options.searchHtml+"</form>")}else if(this.options.search.render){this.options.searchHtml+='<button class="'+this.options.search.button.class+'">                    <i class="'+this.options.search.button.icon+'"></i>                    '+e.getValue(n.language,"meTables.search")+"                    </button>";try{e(this.options.searchForm)[this.options.search.type](this.options.searchHtml)}catch(t){e(this.options.searchForm).append(this.options.searchHtml)}}},this.buttonRender=function(){if(this.options.buttonSelector){for(var t in this.options.buttons)this.options.buttons[t]&&(this.options.buttonHtml+='<button class="'+this.options.buttons[t].class+" me-table-button-"+this.options.unique+'"',this.options.buttonHtml+=' data-func="'+(e.getValue(this.options.buttons[t],"func")||t)+'">                                <i class="'+this.options.buttons[t].icon+'"></i>                            '+e.getValue(this.options.buttons[t],"text",e.getValue(n.language,"meTables."+t))+"                            </button> ");try{e(this.options.buttonSelector)[this.options.buttonType](this.options.buttonHtml)}catch(t){e(this.options.buttonSelector).append(this.options.buttonHtml)}}},this.bind=function(){var t=this;e(document).on("click",".me-table-button-"+t.options.unique,function(a){a.preventDefault();var i=e(this).data("func");i&&e.isFunction(e.getValue(t,i))&&t[i]()}),e(document).on("click","#me-table-button-updateAll-"+t.options.unique,function(e){e.preventDefault(),t.updateAll()}),e(document).on("click","#"+t.options.unique+"-save",function(e){e.preventDefault(),t.save()}),e(document).on("click",".me-table-update-"+t.options.unique,function(a){a.preventDefault(),t.update(e(this).data("row"))}),e(document).on("click",".me-table-delete-"+t.options.unique,function(a){a.preventDefault(),t.delete(e(this).data("row"))}),e(document).on("click",".me-table-detail-"+t.options.unique,function(a){a.preventDefault(),t.detail(e(this).data("row"))}),e(this).find("th input:checkbox").on("click",function(){e(t).find("input:checkbox").prop("checked",e(this).prop("checked"))}),this.options.searchInputEvent&&e(this.options.searchForm+" input").on(this.options.searchInputEvent,function(){t.table.draw()}),this.options.searchSelectEvent&&e(this.options.searchForm+" select").on(this.options.searchSelectEvent,function(){t.table.draw()}),e(this.options.searchForm).submit(function(e){e.preventDefault(),t.search()}).find("button:reset").on("click",function(a){a.preventDefault(),e(t.options.searchForm).get(0).reset(),t.search()})},this.search=function(){this.action="search",this.table.ajax.reload()},this.create=function(){this.action="create",this.initForm()},this.update=function(t){this.action="update",this.initForm(e.getValue(this.table.data(),t))},this.updateAll=function(){var t=e(this).find("tbody input:checkbox:checked:last");if(0===t.length)return layer.msg(e.getValue(n.language,"meTables.noSelect","请选择修改数据"),{icon:5});this.update(t.data("row"))},this.delete=function(t){var a=this;this.action="delete",layer.confirm(e.getValue(n.language,"meTables.confirm").replace("_LENGTH_",""),{title:e.getValue(n.language,"meTables.confirmOperation"),btn:[e.getValue(n.language,"meTables.determine"),e.getValue(n.language,"meTables.cancel")],icon:0},function(){a.save(e.getValue(a.table.data(),t))},function(){layer.msg(e.getValue(n.language,"meTables.cancelOperation"),{time:800})})},this.deleteAll=function(){this.action="deleteAll";var t=this,a=[];if(e(this).find("tbody input:checkbox:checked").each(function(){var i=parseInt(e(this).data("row")),s=t.table.data()[i]||null;e.getValue(s,t.options.pk)&&a.push(s[t.options.pk])}),a.length<1)return layer.msg(e.getValue(n.language,"meTables.noSelect"),{icon:5});layer.confirm(e.getValue(n.language,"meTables.confirm").replace("_LENGTH_",a.length),{title:e.getValue(n.language,"meTables.confirmOperation"),btn:[e.getValue(n.language,"meTables.determine"),e.getValue(n.language,"meTables.cancel")],icon:0},function(){t.save({id:a.join(",")}),e(this).find("input:checkbox:checked").prop("checked",!1)},function(){layer.msg(e.getValue(n.language,"meTables.cancelOperation"),{time:800})})},this.detail=function(t){if(this.options.oLoading)return!1;var a=this,i=e.getValue(this.table.data(),t);if(!e.isEmptyObject(i)){n.detailTable(this.options.table.columns,i,".data-detail-",t);var s=e.extend(!0,{title:a.options.title+e.getValue(n.language,"meTables.info"),content:e("#data-detail-"+a.options.unique).removeClass("hide"),cancel:function(e){layer.close(e)},end:function(){e(".views-info").html(""),e("#data-detail-"+a.options.unique).addClass("hide"),a.options.oLoading=null}},this.options.viewConfig);this.options.oLoading=layer.open(s),this.options.viewFull&&layer.full(this.options.oLoading)}},this.save=function(t){if(-1===e.inArray(this.action,["create","update","delete","deleteAll"]))return layer.msg(e.getValue(n.language,"meTables.operationError")),!1;if(-1!==e.inArray(this.action,["create","update"])){if(!e(this.options.formSelector).validate(this.options.formValidate).form())return!1;t=e(this.options.formSelector).serializeArray()}if(e.isEmptyObject(t))return layer.msg(e.getValue(n.language,"meTables.empty")),!1;if(e.isFunction(this.beforeSave)&&!1===this.beforeSave(t))return!1;var a=this;return n.ajax({url:this.getUrl(this.action),type:"POST",data:t,dataType:"json"}).done(function(t){if(layer.msg(a.options.getMessage(t),{icon:a.options.isSuccess(t)?6:5}),a.options.isSuccess(t)){if(e.isFunction(a.afterSave)&&!1===a.afterSave(t.data))return!1;a.table.draw(!1),e(a).find("input:checkbox").prop("checked",!1),e(a.options.modalSelector).modal("hide")}}),!1},this.initForm=function(t){if(layer.close(this.options.oLoading),e.isFunction(this.beforeShow)&&!1===this.beforeShow(t))return!1;var a=e.getValue(n.language,"create"===this.action?"meTables.insert":"meTables.update");e(this.options.modalSelector).find("h4").html(this.options.title+a);try{e(this.options.formSelector).find(".has-error").removeClass("has-error"),e(this.options.formSelector).validate(this.options.formValidate).resetForm()}catch(e){}if(n.initForm(this.options.formSelector,t),e.isFunction(this.afterShow)&&!1===this.afterShow(t))return!1;e(this.options.modalSelector).modal({backdrop:"static"})},this.export=function(){this.action="export";var t=this,a=e("meta[name=csrf-param]").attr("content")||"_csrf",i='<form action="'+t.getUrl("export")+'" target="_blank" method="POST" class="me-export" style="display:none">';i+='<input type="hidden" name="title" value="'+t.options.title+'"/>',i+='<input type="hidden" name="'+a+'" value="'+e("meta[name=csrf-token]").attr("content")+'"/>',t.options.table.columns.forEach(function(t){t.data&&e.getValue(t,"export",!0)&&(i+='<input type="hidden" name="columns['+t.data+']" value="'+t.title+'"/>')});var s=e(t.options.searchForm).serializeArray();for(var o in s)if(!n.empty(s[o].value)&&"All"!==s[o].value){var l=n.getAttributeName(s[o].name,t.options.filter);i+='<input type="hidden" name="'+l+'" value="'+s[o].value+'"/>'}for(o in t.options.defaultFilters)i+='<input type="hidden" name="',i+=t.options.filters+"["+o+']" value="'+t.options.defaultFilters[o]+'"/>';var r=e(i);e("body").append(r);var c=new e.Deferred,u="temporary-iframe-"+(new Date).getTime()+"-"+parseInt(1e3*Math.random()),d=e('<iframe id="'+u+'" name="'+u+'" \t\t\t\t\t\t\t\tframeborder="0" width="0" height="0" src="about:blank"\t\t\t\t\t\t\t\tstyle="position:absolute; z-index:-1; visibility: hidden;"></iframe>').insertAfter(r);r.append('<input type="hidden" name="temporary-iframe-id" value="'+u+'" />'),d.data("deferrer",c),r.attr({method:"POST",enctype:"multipart/form-data",target:u}),r.get(0).submit();var p=setTimeout(function(){p=null,c.reject(e(document.getElementById(u).contentDocument).text()),e(".me-export").remove()},500);c.fail(function(a){if(a)try{a=e.parseJSON(a),layer.msg(t.options.getMessage(a),{icon:0===t.options.isSuccess(a)?6:5})}catch(t){layer.msg(e.getValue(n.language,"meTables.serverError"),{icon:5})}else layer.msg(e.getValue(n.language,"meTables.export"),{icon:6})}).always(function(){clearTimeout(p)}),c.promise()},this.options=e.extend(!0,{},n.defaults,t),this.options.unique=this.selector.replace("#","").replace(".","");var a=this;if(this.options.table.ajax||(this.options.table.ajax={url:a.getUrl("search"),data:function(t){var i=[];for(var s in i.push({name:"offset",value:t.start}),i.push({name:"limit",value:t.length}),i.push({name:"draw",value:t.draw}),t.columns)t.columns[s].data&&i.push({name:"columns[]",value:t.columns[s].data});var o=[];for(var s in t.order){var l=t.order[s].column;t.columns[l]&&t.columns[l].data&&o.push(t.columns[l].data+" "+t.order[s].dir)}if(o.length>0&&i.push({name:"orderBy",value:o.join(",")}),e(a.options.searchForm).serializeArray().forEach(function(e){""!==e.value&&i.push({name:n.getAttributeName(e.name,a.options.filters),value:e.value})}),a.options.defaultFilters)for(var s in a.options.defaultFilters)i.push({name:a.options.filters+"["+s+"]",value:a.options.defaultFilters[s]});return i}}),this.options.operations){var i=this.options.operations.buttons;delete this.options.operations.buttons,this.options.operations.createdCell=function(t,s,o,l){e(t).html(n.buttonsCreate(l,i,a.options.unique,o))},this.options.table.columns.push(this.options.operations)}if(this.options.checkbox&&this.options.table.columns.unshift(this.options.checkbox),this.options.number&&this.options.table.columns.unshift(this.options.number),"middle"!==this.options.searchType&&n.empty(this.options.table.dom)&&(this.options.table.dom="t<'row'<'col-xs-6'li><'col-xs-6'p>>"),this.render(),this.table=e(this).DataTable(this.options.table),this.searchRender(),this.buttonRender(),this.bind(),this.options.editable&&(e.fn.editable.defaults.mode=this.options.editableMode||"inline",e.fn.editableform.loading="<div class='editableform-loading'><i class='ace-icon fa fa-spinner fa-spin fa-2x light-blue'></i></div>",e.fn.editableform.buttons='<button type="submit" class="btn btn-info editable-submit"><i class="ace-icon fa fa-check"></i></button><button type="button" class="btn editable-cancel"><i class="ace-icon fa fa-times"></i></button>',e.fn.editable.defaults.ajaxOptions={type:"POST",dataType:"json"}),!e.isEmptyObject(this.options.fileSelector))for(var s in this.options.fileSelector)aceFileUpload(this.options.fileSelector[s],this.getUrl("upload"));return this};n.language={meTables:{number:"序号",operations:"操作",operationsSee:"查看",operationsUpdate:"编辑",operationsDelete:"删除",btnCancel:"取消",btnSubmit:"确定",selectAll:"选择全部",info:"详情",insert:"新增",update:"编辑",exporting:"数据正在导出, 请稍候...",appearError:"出现错误",serverError:"服务器繁忙,请稍候再试...",determine:"确定",cancel:"取消",confirm:"您确定需要删除这_LENGTH_条数据吗?",confirmOperation:"确认操作",cancelOperation:"您取消了删除操作!",noSelect:"没有选择需要操作的数据",operationError:"操作有误",empty:"没有数据",search:"搜索",create:"添加",updateAll:"修改",deleteAll:"删除",refresh:"刷新",export:"导出",pleaseInput:"请输入",all:"全部",pleaseSelect:"请选择",clear:"清除"},dataTables:{decimal:"",emptyTable:"没有数据呢 ^.^",info:"显示 _START_ 到 _END_ 共有 _TOTAL_ 条数据",infoEmpty:"无记录",infoFiltered:"(从 _MAX_ 条记录过滤)",infoPostFix:"",thousands:",",lengthMenu:"每页 _MENU_ 条记录",loadingRecords:"加载中...",processing:"数据加载中...",search:"搜索:",zeroRecords:"没有找到记录",paginate:{first:"首页",last:"尾页",next:"下一页",previous:"上一页"},aria:{sortAscending:": 正在进行正序排序",sortDescending:": 正在进行倒序排序"}}},n.defaults={title:"",pk:"id",modalSelector:"#table-modal",formSelector:"#edit-form",defaultFilters:null,filters:"filters",isSuccess:function(e){return 0===e.code},getMessage:function(e){return e.msg},searchHtml:"",searchType:"middle",searchForm:"#search-form",searchInputEvent:"blur",searchSelectEvent:"change",search:{render:!0,type:"append",button:{class:"btn btn-info btn-sm",icon:"ace-icon fa fa-search"}},fileSelector:[],form:{method:"post",class:"form-horizontal",name:"edit-form",autocomplete:"off"},formValidate:{errorElement:"div",errorClass:"help-block",focusInvalid:!1,highlight:function(t){e(t).closest(".form-group").removeClass("has-info").addClass("has-error")},success:function(t){e(t).closest(".form-group").removeClass("has-error"),e(t).remove()}},editFormParams:{multiCols:!1,colsLength:1,cols:[3,9],modalClass:"",modalDialogClass:""},viewFull:!1,viewConfig:{type:1,shade:.3,shadeClose:!0,maxmin:!0,area:["50%","auto"]},detailTable:{multiCols:!1,colsLength:1},urlPrefix:"",urlSuffix:"",url:{search:"search",create:"create",update:"update",delete:"delete",export:"export",upload:"upload",editable:"editable",deleteAll:"delete-all"},table:{paging:!0,lengthMenu:[10,30,50,100],searching:!1,ordering:!0,info:!0,autoWidth:!1,processing:!0,serverSide:!0,paginationType:"full_numbers",language:e.getValue(n.language,"dataTables")},editable:null,editableMode:"inline",buttonHtml:"",buttonSelector:"#me-table-buttons",buttonType:"append",buttons:{create:{icon:"ace-icon fa fa-plus-circle blue",class:"btn btn-white btn-primary btn-bold"},updateAll:{icon:"ace-icon fa fa-pencil-square-o orange",class:"btn btn-white btn-info btn-bold"},deleteAll:{icon:"ace-icon fa fa-trash-o red",class:"btn btn-white btn-danger btn-bold"},refresh:{func:"search",icon:"ace-icon fa  fa-refresh",class:"btn btn-white btn-success btn-bold"},export:{icon:"ace-icon glyphicon glyphicon-export",class:"btn btn-white btn-warning btn-bold"}},number:{title:e.getValue(n.language,"meTables.number"),data:null,view:!1,render:function(t,a,i,s){return!(!s||e.isEmptyObject(s))&&s.row+1+s.settings._iDisplayStart},sortable:!1},checkbox:{data:null,sortable:!1,class:"center text-center",title:'<label class="position-relative"><input type="checkbox" class="ace" /><span class="lbl"></span></label>',view:!1,createdCell:function(t,a,i,s){e(t).html('<label class="position-relative"><input type="checkbox" class="ace" data-row="'+s+'" /><span class="lbl"></span></label>')}},operations:{width:"120px",defaultContent:"",title:e.getValue(n.language,"meTables.operations"),sortable:!1,data:null,buttons:{see:{title:e.getValue(n.language,"meTables.see"),btnClass:"btn-success",operationClass:"me-table-detail",icon:"fa-search-plus",colorClass:"blue"},update:{title:e.getValue(n.language,"meTables.update"),btnClass:"btn-info",operationClass:"me-table-update",icon:"fa-pencil-square-o",colorClass:"green"},delete:{title:e.getValue(n.language,"meTables.delete"),btnClass:"btn-danger",operationClass:"me-table-delete",icon:"fa-trash-o",colorClass:"red"}}},version:"1.0.0",author:{name:"liujinxing",email:"jinxing.liu@qq.com",github:"https://github.com/myloveGy"}},e.extend(n,{getAttributeName:function(e,t){if(/\[/.test(e))var a=e.indexOf("["),i=e.substring(0,a),s=e.substring(a);else i=e,s="";return t+"["+i+"]"+s},ajax:function(t){return s=layer.load(),e.ajax(t).always(function(){layer.close(s)}).fail(function(){layer.msg(e.getValue(n.language,"meTables.serverError"),{icon:5})})},empty:function(e){return void 0===e||""===e||null===e},isObject:function(e){return"object"==typeof e},handleParams:function(a,i){if(t="",!e.isEmptyObject(a)){for(var s in i=i||"",a)t+=" "+s+'="'+i+a[s]+'"';t+=" "}return t},buttonsCreate:function(t,a,i,s){i=i||"";var n='<div class="hidden-sm hidden-xs btn-group">',o='<div class="hidden-md hidden-lg"><div class="inline position-relative"><button data-position="auto" data-toggle="dropdown" class="btn btn-minier btn-primary dropdown-toggle"><i class="ace-icon fa fa-cog icon-only bigger-110"></i></button><ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">';if(!e.isEmptyObject(a))for(var l in a)if(!e.isEmptyObject(a[l])&&a){var r=a[l].operationClass+"-"+i;n+=' <button class="btn '+a[l].btnClass+" "+r+' btn-xs" data-row="'+t+'"><i class="ace-icon fa '+a[l].icon+' bigger-120"></i> '+(a[l]["button-title"]?a[l]["button-title"]:"")+"</button> ",o+='<li><a title="'+a[l].title+'" data-rel="tooltip" class="tooltip-info '+r+'" href="javascript:;" data-original-title="'+a[l].title+'" data-row="'+t+'"><span class="'+a[l].colorClass+'"><i class="ace-icon fa '+a[l].icon+' bigger-120"></i></span></a></li>'}return n+"</div>"+o+"</ul></div></div>"},labelCreate:function(e,t){return"<label"+this.handleParams(t)+"> "+e+" </label>"},inputCreate:function(e){return e.type=e.type||"text","<input"+this.handleParams(e)+"/>"},textCreate:function(e){return e.type="text",this.inputCreate(e)},passwordCreate:function(e){return e.type="password",this.inputCreate(e)},fileCreate:function(e){var t=e.options;return delete e.options,a='<input type="hidden" '+this.handleParams(e)+"/>",t.type="file",a+this.inputCreate(t)},radioCreate:function(t,s){if(a="",!e.isEmptyObject(s)){t.class=t.class||"ace valid";var n=t.default;for(i in t=this.handleParams(t),s)a+='<label class="line-height-1 blue"> <input type="radio" '+t+(n==i?' checked="checked" ':"")+' value="'+i+'"  /> <span class="lbl"> '+s[i]+" </span> </label>　 "}return a},checkboxCreate:function(t,s){if(a="",!e.isEmptyObject(s)){var o=t.all,l=t.divClass||"col-xs-6";for(i in delete t.all,delete t.divClass,t.class=t.class||"ace m-checkbox",t=this.handleParams(t),o&&(a+='<div class="checkbox col-xs-12"><label><input type="checkbox" class="ace checkbox-all" onclick="var isChecked = $(this).prop(\'checked\');$(this).parent().parent().parent().find(\'input[type=checkbox]\').prop(\'checked\', isChecked);" /><span class="lbl"> '+e.getValue(n.language,"meTables.pleaseSelect")+" </span></label></div>"),s)a+='<div class="checkbox '+l+'"><label><input type="checkbox" '+t+' value="'+i+'" /><span class="lbl"> '+s[i]+" </span></label></div>"}return a},selectCreate:function(e,t){if(a="",t&&this.isObject(t)){var s=e.default;for(i in delete e.default,e.multiple&&(e.name+="[]"),a+="<select "+this.handleParams(e)+">",t)a+='<option value="'+i+'" '+(i==s?' selected="selected" ':"")+" >"+t[i]+"</option>";a+="</select>"}return a},textareaCreate:function(e){return e.class=e.class||"form-control",e.rows=e.rows||5,a=(e.value?e.value:"")+"</textarea>",delete e.value,"<textarea"+this.handleParams(e)+">"+a},searchInputCreate:function(t,i,s){t.search.name=e.getValue(t,"search.name",t.data),t.search.title=e.getValue(t,"search.title",t.title),t.search.type=e.getValue(t,"search.type","text");var o="select"===t.search.type?{"":e.getValue(n.language,"meTables.pleaseSelect")}:null;if("middle"===s)try{a=this[t.search.type+"SearchMiddleCreate"](t.search,t.value,o)}catch(e){a=this.textSearchMiddleCreate(t.search)}else try{a=this[t.search.type+"SearchCreate"](t.search,t.value,o)}catch(e){a=this.textSearchCreate(t.search)}return a},formCreate:function(t,a){if(t.edit.type=e.getValue(t,"edit.type","text"),t.edit.name=e.getValue(t,"edit.name",t.data),"hidden"===t.edit.type)return this.inputCreate(t.edit);var i="";if(a.index=e.getValue(a,"index",0),t.edit.class="form-control "+(t.edit.class?t.edit.class:""),a.multiCols>1&&!a.cols){a.cols=[];var s=Math.ceil(12/a.multiCols);a.cols[0]=Math.floor(.3*s),a.cols[1]=s-a.cols[0]}(!a.multiCols||a.colsLength>1&&a.index%a.colsLength==0)&&(i+='<div class="form-group">');var n=t.edit.name.replace("[]","");i+=this.labelCreate(t.title,{class:"col-sm-"+a.cols[0]+" control-label div-left-"+n}),i+='<div class="col-sm-'+a.cols[1]+" div-right-"+n+'">';try{i+=this[t.edit.type+"Create"](t.edit,t.value)}catch(e){i+=this.textCreate(t.edit)}return i+="</div>",(!a.multiCols||a.colsLength>1&&a.index%a.colsLength==a.colsLength-1)&&(i+="</div>"),a.index++,i},selectInput:function(e,t,s){if(a="",s)for(i in s)a+='<option value="'+i+'" selected="selected">'+s[i]+"</option>";if(t)for(i in t)a+='<option value="'+i+'">'+t[i]+"</option>";return e.multiple&&(e.name+="[]"),"<select "+this.handleParams(e)+">"+a+"</select>"},textSearchMiddleCreate:function(e){return e.id="search-"+e.name,'<label for="search-'+e.name+'"> '+e.title+": "+this.inputCreate(e)+"</label>"},selectSearchMiddleCreate:function(e,t,a){return e.id="search-"+e.name,'<label for="search-'+e.name+'"> '+e.title+": "+this.selectInput(e,t,a)+"</label>"},searchParams:function(t){var a={id:"search-"+t.name,name:t.name,class:"form-control"},i={for:"search-"+t.name},s=t.options,n=t.labelOptions;return delete t.options,delete t.labelOptions,a=e.extend(a,t),s&&(a=e.extend(a,s)),n&&(i=e.extend(i,n)),{input:a,label:i}},textSearchCreate:function(t){t.placeholder=t.placeholder||e.getValue(n.language,"meTables.pleaseInput")+t.title,t.labelOptions=t.labelOptions||{class:"sr-only"};var a=this.searchParams(t);return'<div class="form-group">                <label'+this.handleParams(a.label)+">"+t.title+'</label>                <input type="text"'+this.handleParams(a.input)+">                </div> "},selectSearchCreate:function(e,t,a){var i=this.searchParams(e);return'<div class="form-group">                <label'+this.handleParams(i.label)+">"+e.title+"</label>                "+this.selectInput(i.input,t,a)+"                </div> "},initForm:function(t,a){var i=e(t);if(objForm=i.get(0),void 0!==objForm&&(i.find("input[type=hidden]").val(""),i.find("input[type=checkbox]").prop("checked",!1),objForm.reset(),void 0!==a))for(var s in a)if(void 0!==objForm[s]&&"password"!==objForm[s].type){var o=e(objForm[s]),l=a[s];o.hasClass("time-format")&&(l=n.timeFormat(parseInt(l),o.attr("time-format")?o.attr("time-format"):"yyyy-MM-dd hh:mm:ss")),objForm[s].value=l}},divCreate:function(e){return"<div"+this.handleParams(e)+"></div>"},dateCreate:function(e){return'<div class="input-group bootstrap-datepicker">                 <input class="form-control date-picker '+(e.class?e.class:"")+'"  type="text" '+this.handleParams(e)+'/>                 <span class="input-group-addon"><i class="fa fa-calendar bigger-110"></i></span>                 </div>'},timeCreate:function(e){return'<div class="input-group bootstrap-timepicker">                 <input type="text" class="form-control time-picker '+(e.class?e.class:"")+'" '+this.handleParams(e)+'/>                 <span class="input-group-addon"><i class="fa fa-clock-o bigger-110"></i></span>                 </div>'},dateTimeCreate:function(e){return'<div class="input-group bootstrap-datetimepicker">                 <input type="text" class="form-control datetime-picker '+(e.class?e.class:"")+'" '+this.handleParams(e)+'/>                 <span class="input-group-addon"><i class="fa fa-clock-o bigger-110"></i></span>                 </div>'},timeRangeCreate:function(e){return'<div class="input-daterange input-group">                 <input type="text" class="input-sm form-control" name="start" />                 <span class="input-group-addon"><i class="fa fa-exchange"></i></span>                 <input type="text" class="input-sm form-control" name="end" />             </div>'},dateRangeCreate:function(e){return'<div class="input-group">                 <span class="input-group-addon"><i class="fa fa-calendar bigger-110"></i></span>                 <input class="form-control daterange-picker '+(e.class?e.class:"")+'" type="text" '+this.handleParams(e)+" />             </div>"},detailTable:function(t,a,i,s){t.forEach(function(t){var n=t.data,o=a[n],l=e(i+n);e.getValue(t,"view",!0)&&("password"===e.getValue(t,"edit.type")&&(o="******"),e.isFunction(e.getValue(t,"createdCell"))?t.createdCell(l,o,a,s,void 0):(e.isFunction(e.getValue(t,"render"))&&(o=t.render(o,!0,s)),l.html(o)))})},detailTableCreate:function(e,t,i,s){return a="",s&&s.bMultiCols?(s.colsLength>1&&i%s.colsLength==0&&(a+="<tr>"),a+='<td class="text-right" width="25%">'+e+'</td><td class="views-info data-detail-'+t+'"></td>',s.colsLength>1&&i%s.colsLength==s.colsLength-1&&(a+="</tr>")):a+='<tr><td class="text-right" width="25%">'+e+'</td><td class="views-info data-detail-'+t+'"></td></tr>',a},modalCreate:function(t,a){return'<div class="hide" '+this.handleParams(a.params)+"> "+a.html+' </table></div>             <div class="modal fade" '+this.handleParams(t.params)+' tabindex="-1" role="dialog" >                 <div class="modal-dialog '+e.getValue(t,"modalClass","")+'" role="document">                     <div class="modal-content">                         <div class="modal-header">                             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                             <h4 class="modal-title"></h4>                         </div>                         <div class="modal-body">'+t.html+'</fieldset></form></div>                         <div class="modal-footer">                             <button type="button" class="btn btn-default" data-dismiss="modal">'+e.getValue(n.language,"meTables.btnCancel")+'</button>                             <button type="button" class="btn btn-primary '+e.getValue(t,"btnClass","")+'" '+(t.buttonId?'id="'+t.buttonId+'"':"")+">"+e.getValue(n.language,"meTables.btnSubmit")+"</button>                         </div>                     </div>                 </div>             </div>"},timeFormat:function(e,t){return t=t||"yyyy-MM-dd",new Date(1e3*e).Format(t)},dateTimeString:function(t,a){e(t).html(n.timeFormat(a,"yyyy-MM-dd hh:mm:ss"))},statusString:function(t,a){e(t).html('<span class="label label-'+(1===parseInt(a)?'success">启用':'warning">禁用')+"</span>")},valuesString:function(e,t,a,i){return i||(i="label label-sm "),'<span class="'+i+" "+(t[a]?t[a]:"")+'"> '+(e[a]?e[a]:a)+" </span>"}}),e.fn.meTables=n,e.fn.MeTables=function(t){return e(this).meTables(t)},e.fn.meTables}(jQuery);