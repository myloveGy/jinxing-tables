!function(e,a){Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t},a.getValue=function(t,e,i){if(!t||"object"!=typeof t)return i;if("string"==typeof e){var s=e.lastIndexOf(".");-1!==e.lastIndexOf(".")&&(t=a.getValue(t,e.substr(0,s),i),e=e.substr(s+1))}return e in t?t[e]:t[e]?t[e]:i};var i,s,n,o=null,l=function(e){this.bind=function(){var t=this;a(document).on("click",".me-table-button-"+t.options.unique,function(e){e.preventDefault();var i=a(this).data("func");i&&a.isFunction(a.getValue(t,i))&&t[i]()}),a(document).on("click","#me-table-button-updateAll-"+t.options.unique,function(e){e.preventDefault(),t.updateAll()}),a(document).on("click","#"+t.options.unique+"-save",function(e){e.preventDefault(),t.save()}),a(document).on("click",".me-table-update-"+t.options.unique,function(e){e.preventDefault(),t.update(a(this).data("row"))}),a(document).on("click",".me-table-delete-"+t.options.unique,function(e){e.preventDefault(),t.delete(a(this).data("row"))}),a(document).on("click",".me-table-detail-"+t.options.unique,function(e){e.preventDefault(),t.detail(a(this).data("row"))}),a(t.options.sTable).find("th input:checkbox").on("click",function(){a(t.options.sTable).find("input:checkbox").prop("checked",a(this).prop("checked"))}),this.options.searchInputEvent&&(a(this.options.searchForm+" input").on(this.options.searchInputEvent,function(){t.table.draw()}),"keydown"!=this.options.searchInputEvent&&a(this.options.searchForm+" input").on("keydown",function(e){13===e.which&&t.table.draw()})),this.options.searchSelectEvent&&a(this.options.searchForm+" select").on(this.options.searchSelectEvent,function(){t.table.draw()}),a(this.options.searchForm).submit(function(e){e.preventDefault(),t.search()}).find("button:reset").on("click",function(e){e.preventDefault(),a(t.options.searchForm).get(0).reset(),t.search()})},this.init=function(t){this.action="init",this.initRender(),this.table=a(this.options.sTable).DataTable(this.options.table);var e="";if(this.options.search&&this.options.search.render&&(e=l.createButtonHtml(this.options.search.button),this.options.searchInputEvent=!1,this.options.searchSelectEvent=!1),"middle"===this.options.searchType){var i="";this.options.searchHtml&&a.trim(this.options.searchHtml)&&(i='<form id="'+this.options.searchForm.replace("#","")+'">'+this.options.searchHtml+e+"</form>"),a(this.options.sTable+"_filter").html(i),a(this.options.sTable+"_wrapper div.row div.col-xs-6:first").removeClass("col-xs-6").addClass("col-xs-2").next().removeClass("col-xs-6").addClass("col-xs-10")}else if(this.options.search.render){this.options.searchHtml+=e;try{a(this.options.searchForm)[this.options.search.type](this.options.searchHtml)}catch(t){a(this.options.searchForm).append(this.options.searchHtml)}}try{a(this.options.buttonSelector)[this.options.buttonType](this.options.buttonHtml)}catch(t){a(this.options.buttonSelector).append(this.options.buttonHtml)}if(this.options.editable&&(a.fn.editableform.loading="<div class='editableform-loading'><i class='ace-icon fa fa-spinner fa-spin fa-2x light-blue'></i></div>",a.fn.editableform.buttons='<button type="submit" class="btn btn-info editable-submit"><i class="ace-icon fa fa-check"></i></button><button type="button" class="btn editable-cancel"><i class="ace-icon fa fa-times"></i></button>',a.fn.editable.defaults.ajaxOptions={type:"POST",dataType:"json"},a.fn.editable.defaults.mode=this.options.editableMode||"inline"),!l.empty(this.options.fileSelector)&&this.options.fileSelector.length>0)for(var s in this.options.fileSelector)aceFileUpload(this.options.fileSelector[s],this.getUrl("upload"));return"function"==typeof t&&t(),this.bind(),this};var i=this;if(i.editColumns=[],this.search=function(t){this.action="search",t||(t=!1),this.table.draw(t)},this.refresh=function(){var t=a(this.options.searchForm).get(0);t&&t.reset(),this.action="refresh",this.search(!0)},this.create=function(){this.action="create",this.initForm(null)},this.update=function(t){this.action="update",this.initForm(this.table.data()[t])},this.updateAll=function(){var t=a(this.options.sTable+" tbody input:checkbox:checked:last").data("row"),e=a.getValue(this.table.data(),parseInt(t));if(!e)return layer.msg(l.getLanguage("noSelect"),{icon:5});this.action="update",this.initForm(e)},this.delete=function(t){var e=this;this.action="delete",layer.confirm(l.getLanguage("confirm").replace("_LENGTH_",""),{title:l.getLanguage("confirmOperation"),btn:[l.getLanguage("determine"),l.getLanguage("cancel")],shift:4,icon:0},function(){e.save(e.table.data()[t])},function(){layer.msg(l.getLanguage("cancelOperation"),{time:800})})},this.deleteAll=function(){this.action="deleteAll";var t=this,e=[];if(a(this.options.sTable+" tbody input:checkbox:checked").each(function(){var i=parseInt(a(this).val()),s=t.table.data()[i]?t.table.data()[i]:null;s&&s[t.options.pk]&&e.push(s[t.options.pk])}),e.length<1)return layer.msg(l.getLanguage("noSelect"),{icon:5});layer.confirm(l.getLanguage("confirm").replace("_LENGTH_",e.length),{title:l.getLanguage("confirmOperation"),btn:[l.getLanguage("determine"),l.getLanguage("cancel")],shift:4,icon:0},function(){t.save({id:e.join(",")}),a(t.options.sTable+" input:checkbox:checked").prop("checked",!1)},function(){layer.msg(l.getLanguage("cancelOperation"),{time:800})})},this.detail=function(e){if(this.options.oLoading)return!1;var i=this,s=this.table.data()[e];if(t=i.options.title,n="#data-detail-"+i.options.unique,void 0!==s){l.detailTable(this.options.table.columns,s,".data-detail-",e);var o=a.extend(!0,{title:i.options.title+a.getValue(l.language,"meTables.sInfo"),content:a("#data-detail-"+i.options.unique).removeClass("hide"),cancel:function(t){layer.close(t)},end:function(){a(".views-info").html(""),a("#data-detail-"+i.options.unique).addClass("hide"),i.options.oLoading=null}},this.options.oViewConfig);this.options.oLoading=layer.open(o),this.options.bViewFull&&layer.full(this.options.oLoading)}},this.save=function(t){if(!l.inArray(this.action,["create","update","delete","deleteAll"]))return layer.msg(l.getLanguage("operationError")),!1;if(l.inArray(this.action,["create","update"])){if(!a(this.options.sFormId).validate(this.options.formValidate).form())return!1;t=a(this.options.sFormId).serializeArray()}if(a.isEmptyObject(t))return layer.msg(a.getValue(l.language,"meTables.empty")),!1;if(a.isFunction(this.beforeSave)&&!1===this.beforeSave(t))return!1;var e=this;return l.ajax({url:this.getUrl(this.action),type:"POST",data:t,dataType:"json"}).done(function(t){if(layer.msg(e.options.getMessage(t),{icon:e.options.isSuccess(t)?6:5}),e.options.isSuccess(t)){if(a.isFunction(e.afterSave)&&!1===e.afterSave(t.data))return!1;e.table.draw(!1),a(e).find("input:checkbox").prop("checked",!1),a(e.options.sModal).modal("hide")}}),!1},this.export=function(){this.action="export";var t=null,e=a("meta[name=csrf-param]").attr("content")||"_csrf",i='<form action="'+this.getUrl("export")+'" target="_blank" method="POST" class="me-export" style="display:none">';i+='<input type="hidden" name="title" value="'+this.options.title+'"/>',i+='<input type="hidden" name="'+e+'" value="'+a("meta[name=csrf-token]").attr("content")+'"/>',this.options.table.columns.forEach(function(t,e){t.data&&!1!==t.isExport&&!1!==t.bExport&&!1!==t.export&&(i+='<input type="hidden" name="fields['+t.data+']" value="'+t.title+'"/>')});var s=a(this.options.searchForm).serializeArray();for(t in s)if(!l.empty(s[t].value)&&"All"!==s[t].value){var n=l.getAttributeName(s[t].name,this.options.filters);i+='<input type="hidden" name="'+n+'" value="'+s[t].value+'"/>'}for(t in this.options.params)i+='<input type="hidden" name="'+this.options.filters+"["+t+']" value="'+this.options.params[t]+'"/>';var o=a(i);a("body").append(o);var r=new a.Deferred,c="temporary-iframe-"+(new Date).getTime()+"-"+parseInt(1e3*Math.random()),d=a('<iframe id="'+c+'" name="'+c+'" \t\t\t\t\t\t\t\tframeborder="0" width="0" height="0" src="about:blank"\t\t\t\t\t\t\t\tstyle="position:absolute; z-index:-1; visibility: hidden;"></iframe>').insertAfter(o);o.append('<input type="hidden" name="temporary-iframe-id" value="'+c+'" />'),d.data("deferrer",r),o.attr({method:"POST",enctype:"multipart/form-data",target:c}),o.get(0).submit();var u=setTimeout(function(){u=null,r.reject(a(document.getElementById(c).contentDocument).text()),a(".me-export").remove()},500);r.fail(function(t){if(t)try{t=a.parseJSON(t),layer.msg(t.msg,{icon:0===t.code?6:5})}catch(t){layer.msg(l.getLanguage("sServerError"),{icon:5})}else layer.msg(l.getLanguage("sExport"),{icon:6})}).always(function(){clearTimeout(u)}),r.promise()},this.getUrl=function(t){return this.options.urlPrefix+this.options.url[t]+this.options.urlSuffix},this.initRender=function(){var t=this,e="<form "+l.handleParams(this.options.form)+"><fieldset>",i='<table class="table table-bordered table-striped table-detail-'+this.options.unique+'">',s=[],n=[];this.options.table.columns.forEach(function(o,r){!1!==o.bViews&&!1!==o.view&&!1!==o.isViews&&(i+=l.detailTableCreate(o.title,o.data,r,t.options.detailTable)),void 0!==o.edit&&(e+=l.formCreate(o,t.options.editFormParams,t)),void 0!==o.search&&(t.options.searchHtml+=l.searchInputCreate(o,r,t.options.searchType)),!o.defaultOrder||"asc"!==o.defaultOrder&&"desc"!==o.defaultOrder||s.push([r,o.defaultOrder]),(o.isHide||o.bHide||o.hide)&&n.push(r),t.options.editable&&void 0!==o.editable&&(o.editable.name=o.editable.name?o.editable.name:o.data,t.options.editable[o.editable.name]={source:o.value,send:"always",url:t.getUrl("editable"),title:o.title,success:function(t){if(0!==t.code)return t.msg},error:function(t){layer.msg(l.getLanguage("sServerError"),{icon:5})}},t.options.editable[o.editable.name]=a.extend(!0,{},t.options.editable[o.editable.name],o.editable),o.class="my-edit edit-"+o.editable.name)}),t.options.editable&&(t.options.table.fnDrawCallback=function(){for(var e in t.options.editable)a(t.options.sTable+" tbody tr td.edit-"+e).each(function(){var i=t.table.row(a(this).closest("tr")).data(),s={};i&&(s.value=i[e],s.pk=i[t.options.pk]),a(this).editable(a.extend(!0,{},t.options.editable[e],s))})}),t.options.editFormParams.bMultiCols&&l.empty(t.options.editFormParams.modalClass)&&(t.options.editFormParams.modalClass="bs-example-modal-lg",t.options.editFormParams.modalDialogClass="modal-lg"),t.options.editFormParams.bMultiCols&&t.options.editFormParams.index%t.options.editFormParams.iCols!=t.options.editFormParams.iCols-1&&(e+="</div>");var o=l.modalCreate({params:{id:t.options.sModal.replace("#","")},html:e,"button-id":t.options.sTable.replace("#","")+"-save",modalClass:t.options.editFormParams.modalClass,modalDialogClass:t.options.editFormParams.modalDialogClass},{params:{id:"data-detail-"+t.options.sTable.replace("#","")},html:i});s.length>0&&(this.options.table.order=s),n.length>0&&(this.options.table.columnDefs?this.options.table.columnDefs.push({targets:n,visible:!1}):this.options.table.columnDefs=[{targets:n,visible:!1}]),a("body").append(o)},this.initForm=function(t){if(layer.close(this.options.oLoading),"function"==typeof this.beforeShow&&!1===this.beforeShow(t))return!1;var e=this.options.sFormId,i=this.options.sModal,s=this.options.title;a(i).find("h4").html(s+l.getLanguage("create"===this.action?"sCreate":"sUpdate"));try{a(this.options.sFormId).find(".has-error").removeClass("has-error"),a(this.options.sFormId).validate(this.options.formValidate).resetForm()}catch(t){}if(l.initForm(e,t,this.editColumns),"function"==typeof this.afterShow&&!1===this.afterShow(t))return!1;a(i).modal({backdrop:"static"})},this.push=function(t,e,a){if(void 0!==e&&!l.empty(e))if(void 0===a)for(n in e)t.push({name:n,value:e[n]});else for(n in e)t.push({name:a+"["+n+"]",value:e[n]})},this.options=a.extend(!0,{},l.defaultOptions,e),this.table=null,this.action="construct",this.options.unique=this.options.sTable.replace("#",""),this.options.table.ajax||(this.options.table.ajax={url:i.getUrl("search"),data:function(t){a(i.options.sTable).find("input:checkbox").prop("checked",!1);var e=[];for(var s in e.push({name:"offset",value:t.start}),e.push({name:"limit",value:t.length}),e.push({name:"draw",value:t.draw}),t.columns)t.columns[s].data&&e.push({name:"columns[]",value:t.columns[s].data});var n=[];for(var s in t.order){var o=t.order[s].column;t.columns[o]&&t.columns[o].data&&n.push(t.columns[o].data+" "+t.order[s].dir)}if(n.length>0&&e.push({name:"orderBy",value:n.join(",")}),a(i.options.searchForm).serializeArray().forEach(function(t){""!==t.value&&"All"!==t.value&&e.push({name:l.getAttributeName(t.name,i.options.filters),value:t.value})}),i.options.params)for(var s in i.options.params)e.push({name:i.options.filters+"["+s+"]",value:i.options.params[s]});return e},dataSrc:function(t){return i.options.isSuccess(t)||void 0!==t.draw||(layer.msg(i.options.getMessage(t),{icon:5}),t.draw=1,t.recordsTotal=0,t.recordsFiltered=0,t.data=[]),t.data}}),this.options.table.language||(this.options.table.language=l.getLanguage("dataTables","*")),this.options.form.id=this.options.sFormId.replace("#",""),this.options.table.columns=this.options.table.columns||this.options.table.aoColumns,this.options.number&&this.options.table.columns.unshift(this.options.number),this.options.checkbox&&this.options.table.columns.unshift(this.options.checkbox),this.options.operations){var s=this.options.operations.buttons;delete this.options.operations.buttons,this.options.operations.createdCell=function(t,e,n,o){a(t).html(l.buttonsCreate(o,s,i.options.unique,n))},this.options.table.columns.push(this.options.operations)}for(var n in"middle"!==this.options.searchType&&l.empty(this.options.table.sDom)&&(this.options.table.sDom="t<'row'<'col-xs-6'li><'col-xs-6'p>>"),this.options.buttons)this.options.buttons[n]&&(this.options.buttonHtml+='<button data-func="'+a.getValue(this.options.buttons[n],"data-func")+'" class="'+this.options.buttons[n].className+" me-table-button-"+this.options.unique+'" id="'+this.options.unique+"-"+n+'">                                <i class="'+this.options.buttons[n].icon+'"></i>                            '+this.options.buttons[n].text+"                            </button> ");return this};l.getAttributeName=function(t,e){if(/\[/.test(t))var a=t.indexOf("["),i=t.substring(0,a),s=t.substring(a);else i=t,s="";return e+"["+i+"]"+s},l.ajax=function(t){return o=layer.load(),a.ajax(t).always(function(){layer.close(o)}).fail(function(){layer.msg(l.getLanguage("sServerError"),{icon:5})})},l.inArray=function(t,e){if("object"==typeof e)for(var a in e)if(e[a]===t)return!0;return!1},l.empty=function(t){return void 0===t||""===t||null===t},l.isObject=function(t){return"object"==typeof t},l.handleParams=function(t,e){if(i="",void 0!==t&&"object"==typeof t){for(var a in e=e||"",t)i+=" "+a+'="'+e+t[a]+'"';i+=" "}return i},l.labelCreate=function(t,e){return"<label"+this.handleParams(e)+"> "+t+" </label>"},l.inputCreate=function(t){return t.type||(t.type="text"),"<input"+this.handleParams(t)+"/>"},l.textCreate=function(t){return t.type="text",this.inputCreate(t)},l.passwordCreate=function(t){return t.type="password",this.inputCreate(t)},l.fileCreate=function(t){var e=t.options;return delete t.options,s='<input type="hidden" '+this.handleParams(t)+"/>",e.type="file",s+this.inputCreate(e)},l.radioCreate=function(t,e){if(s="",e&&this.isObject(e)){t.class="ace valid";var a=t.default;for(n in t=this.handleParams(t),e)s+='<label class="line-height-1 blue"> <input type="radio" '+t+(a==n?' checked="checked" ':"")+' value="'+n+'"  /> <span class="lbl"> '+e[n]+" </span> </label>　 "}return s},l.checkboxCreate=function(t,e){if(s="",e&&this.isObject(e)){var a=t.all,i=t.divClass?t.divClass:"col-xs-6";for(n in delete t.all,delete t.divClass,t.class="ace m-checkbox",t=this.handleParams(t),a&&(s+='<div class="checkbox col-xs-12"><label><input type="checkbox" class="ace checkbox-all" onclick="var isChecked = $(this).prop(\'checked\');$(this).parent().parent().parent().find(\'input[type=checkbox]\').prop(\'checked\', isChecked);" /><span class="lbl"> '+l.getLanguage("sSelectAll")+" </span></label></div>"),e)s+='<div class="checkbox '+i+'"><label><input type="checkbox" '+t+' value="'+n+'" /><span class="lbl"> '+e[n]+" </span></label></div>"}return s},l.selectCreate=function(t,e){if(s="",e&&this.isObject(e)){var a=t.default;for(n in delete t.default,t.multiple&&(t.name+="[]"),s+="<select "+this.handleParams(t)+">",e)s+='<option value="'+n+'" '+(n==a?' selected="selected" ':"")+" >"+e[n]+"</option>";s+="</select>"}return s},l.textareaCreate=function(t){return t.class||(t.class="form-control"),t.rows||(t.rows=5),s=(t.value?t.value:"")+"</textarea>",delete t.value,"<textarea"+this.handleParams(t)+">"+s},l.searchInputCreate=function(t,e,a){t.search.name||(t.search.name=t.data),t.search.title||(t.search.title=t.title),t.search.type||(t.search.type="text");var i="select"===t.search.type?{All:l.getLanguage("all")}:null,n=t.search.type+"SearchMiddleCreate",o="textSearchMiddleCreate";"middle"!==a&&(n=n.replace("Middle",""),o=o.replace("Middle",""));try{s=this[n](t.search,t.value,i)}catch(e){s=this[o](t.search)}return s},l.buttonsCreate=function(t,e,i,s){var n='<div class="hidden-sm hidden-xs btn-group">',o='<div class="hidden-md hidden-lg"><div class="inline position-relative"><button data-position="auto" data-toggle="dropdown" class="btn btn-minier btn-primary dropdown-toggle"><i class="ace-icon fa fa-cog icon-only bigger-110"></i></button><ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">';if(void 0!==e&&"object"==typeof e)for(var l in e)!e[l]||a.isEmptyObject(e[l])||a.isFunction(e[l].show)&&!e[l].show(s)||(n+=' <button class="btn '+e[l].className+" "+e[l].cClass+"-"+i+' btn-xs" data-row="'+t+'">',e[l].icon&&(n+='<i class="ace-icon fa '+e[l].icon+' bigger-120"></i>'),e[l]["button-title"]&&(n+=e[l]["button-title"]),n+="</button> ",o+='<li><a title="'+e[l].title+'" data-rel="tooltip" class="tooltip-info '+e[l].cClass+"-"+i+'" href="javascript:;" data-original-title="'+e[l].title+'" data-row="'+t+'"><span class="'+e[l].sClass+'"><i class="ace-icon fa '+(e[l]["min-icon"]?e[l]["min-icon"]:e[l].icon)+' bigger-120"></i></span></a></li>');return n+"</div>"+o+"</ul></div></div>"},l.formCreate=function(t,e,i){if(e.index||(e.index=0),t.edit.type||(t.edit.type="text"),!t.edit.name)if(t.data.indexOf(".")){var s=t.data.split(".");t.edit.name=s.shift(),s.forEach(function(e){t.edit.name+="["+e+"]"})}else t.edit.name=t.data;if(i.editColumns.push({name:t.edit.name,index:t.data||t.edit.name}),"hidden"===t.edit.type)return this.inputCreate(t.edit);var n="";if(t.edit.class="form-control "+(t.edit.class?t.edit.class:""),e.iMultiCols>1&&!e.aCols){e.aCols=[];var o=Math.ceil(12/e.iMultiCols);e.aCols[0]=Math.floor(.3*o),e.aCols[1]=o-e.aCols[0]}(!e.bMultiCols||e.iColsLength>1&&e.index%e.iColsLength==0)&&(n+='<div class="form-group">');var l=t.edit.name.replace("[]","");l.indexOf("[")&&(l=l.replace(/(\[)|(\]\[)/gi,"-").replace("]","")),n+=this.labelCreate(t.title,{class:"col-sm-"+e.aCols[0]+" control-label div-left-"+l+" "+(a.getValue(t.edit,"required")?"required":"")}),n+='<div class="col-sm-'+e.aCols[1]+" div-right-"+l+'">';try{n+=this[t.edit.type+"Create"](t.edit,t.value)}catch(e){t.edit.type="text",n+=this.inputCreate(t.edit)}return n+="</div>",(!e.bMultiCols||e.iColsLength>1&&e.index%e.iColsLength==e.iColsLength-1)&&(n+="</div>"),e.index++,n},l.selectInput=function(t,e,i){s="";var o=a.getValue(t,"default")||a.getValue(t,"value");if(delete t.default,delete t.value,i)for(n in i)s+='<option value="'+n+'" '+(null==o?'selected="selected"':"")+">"+i[n]+"</option>";if(e)for(n in e)s+='<option value="'+n+' " '+(o===n?'selected="selected"':"")+">"+e[n]+"</option>";return t.multiple&&(t.name+="[]"),"<select "+this.handleParams(t)+">"+s+"</select>"},l.textSearchMiddleCreate=function(t){return t.id="search-"+t.name,'<label for="search-'+t.name+'"> '+t.title+": "+this.inputCreate(t)+"</label>"},l.selectSearchMiddleCreate=function(t,e,a){return t.id="search-"+t.name,'<label for="search-'+t.name+'"> '+t.title+": "+this.selectInput(t,e,a)+"</label>"},l.searchParams=function(t){var e={id:"search-"+t.name,name:t.name,class:"form-control"},i={for:"search-"+t.name},s=t.options,n=t.labelOptions;return delete t.options,delete t.labelOptions,e=a.extend(e,t),s&&(e=a.extend(e,s)),n&&(i=a.extend(i,n)),{input:e,label:i}},l.textSearchCreate=function(t){t.placeholder||(t.placeholder=l.getLanguage("pleaseInput")+t.title),t.labelOptions||(t.labelOptions={class:"sr-only"});var e=this.searchParams(t);return'<div class="form-group">                <label'+this.handleParams(e.label)+">"+t.title+'</label>                <input type="text"'+this.handleParams(e.input)+">                </div> "},l.selectSearchCreate=function(t,e,a){var i=this.searchParams(t);return'<div class="form-group">                <label'+this.handleParams(i.label)+">"+t.title+"</label>                "+this.selectInput(i.input,e,a)+"                </div> "},l.initForm=function(t,e,i){var s=a(t);objForm=s.get(0),void 0!==objForm&&(s.find("input[type=hidden]").val(""),s.find("input[type=checkbox]").prop("checked",!1),objForm.reset(),e&&i&&i.length>0&&i.forEach(function(t){var i=a.getValue(e,t.index);if(void 0!==objForm[t.name]&&"password"!==objForm[t.name].type){var s=a(objForm[t.name]);(s.hasClass("time-format")||s.data("time-format"))&&(i=l.timeFormat(parseInt(i),s.attr("time-format")||"yyyy-MM-dd hh:mm:ss")),objForm[t.name].value=i}}))},l.divCreate=function(t){return"<div"+this.handleParams(t)+"></div>"},l.dateCreate=function(t){return'<div class="input-group bootstrap-datepicker">                 <input class="form-control date-picker '+(t.class?t.class:"")+'"  type="text" '+this.handleParams(t)+'/>                 <span class="input-group-addon"><i class="fa fa-calendar bigger-110"></i></span>                 </div>'},l.timeCreate=function(t){return'<div class="input-group bootstrap-timepicker">                 <input type="text" class="form-control time-picker '+(t.class?t.class:"")+'" '+this.handleParams(t)+'/>                 <span class="input-group-addon"><i class="fa fa-clock-o bigger-110"></i></span>                 </div>'},l.dateTimeCreate=function(t){return'<div class="input-group bootstrap-datetimepicker">                 <input type="text" class="form-control datetime-picker '+(t.class?t.class:"")+'" '+this.handleParams(t)+'/>                 <span class="input-group-addon"><i class="fa fa-clock-o bigger-110"></i></span>                 </div>'},l.timeRangeCreate=function(t){return'<div class="input-daterange input-group">                 <input type="text" class="input-sm form-control" name="start" />                 <span class="input-group-addon"><i class="fa fa-exchange"></i></span>                 <input type="text" class="input-sm form-control" name="end" />             </div>'},l.dateRangeCreate=function(t){return'<div class="input-group">                 <span class="input-group-addon"><i class="fa fa-calendar bigger-110"></i></span>                 <input class="form-control daterange-picker '+(t.class?t.class:"")+'" type="text" '+this.handleParams(t)+" />             </div>"},l.detailTable=function(t,e,i,s){t.forEach(function(t){var n=t.data,o=a.getValue(e,n),l=a(i+(n?n.replace(".","-"):n));void 0!==t.edit&&"password"===t.edit.type&&(o="******"),void 0===t.createdCell||"function"!=typeof t.createdCell?(t.render&&"function"==typeof t.render&&(o=t.render(o,!0,e)),l.html(o)):t.createdCell(l,o,e,s,void 0)})},l.detailTableCreate=function(t,e,a,i){s="";var n=e&&"string"==typeof e?e.replace(".","-"):e;return i&&i.bMultiCols?(i.iColsLength>1&&a%i.iColsLength==0&&(s+="<tr>"),s+='<td class="text-right" width="25%">'+t+'</td><td class="views-info data-detail-'+n+'"></td>',i.iColsLength>1&&a%i.iColsLength==i.iColsLength-1&&(s+="</tr>")):s+='<tr><td class="text-right" width="25%">'+t+'</td><td class="views-info data-detail-'+n+'"></td></tr>',s},l.modalCreate=function(t,e){return'<div class="hide" '+this.handleParams(e.params)+"> "+e.html+' </table></div>             <div class="modal fade '+(t.modalClass?t.modalClass:"")+'" '+this.handleParams(t.params)+' tabindex="-1" role="dialog" >                 <div class="modal-dialog '+(t.modalDialogClass?t.modalDialogClass:"")+'" role="document">                     <div class="modal-content">                         <div class="modal-header">                             <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>                             <h4 class="modal-title"></h4>                         </div>                         <div class="modal-body">'+t.html+'</fieldset></form></div>                         <div class="modal-footer">                             <button type="button" class="btn btn-default" data-dismiss="modal">'+l.getLanguage("sBtnCancel")+'</button>                             <button type="button" class="btn btn-primary '+(t.bClass?t.bClass:"")+'" '+(t["button-id"]?'id="'+t["button-id"]+'"':"")+">"+l.getLanguage("sBtnSubmit")+"</button>                         </div>                     </div>                 </div>             </div>"},l.timeFormat=function(t,e){return e||(e="yyyy-MM-dd"),new Date(1e3*t).Format(e)},l.dateTimeString=function(t,e){a(t).html(l.timeFormat(e,"yyyy-MM-dd hh:mm:ss"))},l.statusString=function(t,e){a(t).html('<span class="label label-'+(1===parseInt(e)?'success">启用':'warning">禁用')+"</span>")},l.valuesString=function(t,e,a,i){return i||(i="label label-sm "),'<span class="'+i+" "+(e[a]?e[a]:"")+'"> '+(t[a]?t[a]:a)+" </span>"},l.getLanguage=function(){return arguments.length>1&&a.getValue(l.language,arguments[0])?"*"===arguments[1]?a.getValue(l.language,arguments[0]):a.getValue(l.language,arguments[0]+"."+arguments[1]):a.getValue(l.language,"meTables."+arguments[0])},l.createButtonHtml=function(t){var e="";for(var a in t)if(t[a]){var i=t[a].icon||"",s=t[a].text||"";delete t[a].icon,delete t[a].text,t[a].type=a;var n=i?'<i class="'+i+'"></i>':"";e+="<button "+l.handleParams(t[a])+">"+n+s+"</button>"}return e},l.language={meTables:{operations:"操作",operations_see:"查看",operations_update:"编辑",operations_delete:"删除",sBtnCancel:"取消",sBtnSubmit:"确定",sSelectAll:"选择全部",sInfo:"详情",sCreate:"新增",sUpdate:"编辑",sExport:"数据正在导出, 请稍候...",sAppearError:"出现错误",sServerError:"服务器繁忙,请稍候再试...",determine:"确定",cancel:"取消",confirm:"您确定需要删除这_LENGTH_条数据吗?",confirmOperation:"确认操作",cancelOperation:"您取消了删除操作!",noSelect:"没有选择需要操作的数据",operationError:"操作有误",search:"搜索",create:"添加",updateAll:"修改",deleteAll:"删除",refresh:"刷新",export:"导出",pleaseInput:"请输入",all:"全部",number:"序号",empty:"没有数据",reset:"清除"},dataTables:{sLengthMenu:"每页 _MENU_ 条记录",sZeroRecords:"没有找到记录",sInfo:"显示 _START_ 到 _END_ 共有 _TOTAL_ 条数据",sInfoEmpty:"无记录",sInfoFiltered:"(从 _MAX_ 条记录过滤)",sSearch:"搜索：",oPaginate:{sFirst:"首页",sPrevious:"上一页",sNext:"下一页",sLast:"尾页"}}},l.defaultOptions={title:"",language:"zh-cn",pk:"id",sModal:"#table-modal",sTable:"#show-table",sFormId:"#edit-form",sMethod:"POST",params:null,searchHtml:"",searchType:"middle",searchForm:"#search-form",searchInputEvent:"blur",searchSelectEvent:"change",filters:"filters",isSuccess:function(t){return 0===t.code},getMessage:function(t){return t.msg},search:{render:!0,type:"append",button:{submit:{class:"btn btn-info btn-sm",icon:"ace-icon fa fa-search bigger-110",style:"margin-left: 5px;padding-top: 1px; padding-bottom:1px",text:l.getLanguage("search")},reset:{class:"btn btn-warning btn-sm",style:"margin-left: 10px;padding-top: 1px; padding-bottom:1px",icon:"ace-icon fa fa-undo bigger-110",text:l.getLanguage("reset")}}},fileSelector:[],form:{method:"post",class:"form-horizontal",name:"edit-form",autocomplete:"off"},formValidate:{errorElement:"div",errorClass:"help-block",focusInvalid:!1,highlight:function(t){a(t).closest(".form-group").removeClass("has-info").addClass("has-error")},success:function(t){a(t).closest(".form-group").removeClass("has-error"),a(t).remove()}},editFormParams:{bMultiCols:!1,iColsLength:1,aCols:[3,8],sModalClass:"",sModalDialogClass:""},bViewFull:!1,oViewConfig:{type:1,shade:.3,shadeClose:!0,maxmin:!0,area:["50%","auto"]},detailTable:{bMultiCols:!1,iColsLength:1},urlPrefix:"",urlSuffix:"",url:{search:"search",create:"create",update:"update",delete:"delete",export:"export",upload:"upload",editable:"editable",deleteAll:"delete-all"},table:{bLengthChange:!0,bAutoWidth:!1,bPaginate:!0,iDisplayStart:0,iDisplayLength:10,bServerSide:!0,bRetrieve:!0,bDestroy:!0,sPaginationType:"full_numbers"},editable:null,editableMode:"inline",buttonHtml:"",buttonSelector:"#me-table-buttons",buttonType:"append",buttons:{create:{"data-func":"create",text:l.getLanguage("create"),icon:"ace-icon fa fa-plus-circle blue",className:"btn btn-white btn-primary btn-bold"},updateAll:{"data-func":"updateAll",text:l.getLanguage("updateAll"),icon:"ace-icon fa fa-pencil-square-o orange",className:"btn btn-white btn-info btn-bold"},deleteAll:{"data-func":"deleteAll",text:l.getLanguage("deleteAll"),icon:"ace-icon fa fa-trash-o red",className:"btn btn-white btn-danger btn-bold"},refresh:{"data-func":"refresh",text:l.getLanguage("refresh"),icon:"ace-icon fa  fa-refresh",className:"btn btn-white btn-success btn-bold"},export:{"data-func":"export",text:l.getLanguage("export"),icon:"ace-icon glyphicon glyphicon-export",className:"btn btn-white btn-warning btn-bold"}},number:{title:l.getLanguage("meTables","number"),data:null,view:!1,render:function(t,e,i,s){return!(!s||a.isEmptyObject(s))&&s.row+1+s.settings._iDisplayStart},sortable:!1},checkbox:{data:null,sortable:!1,class:"center text-center",title:'<label class="position-relative"><input type="checkbox" class="ace" /><span class="lbl"></span></label>',view:!1,createdCell:function(t,e,i,s){a(t).html('<label class="position-relative"><input type="checkbox" class="ace" data-row="'+s+'" value="'+s+'"/><span class="lbl"></span></label>')}},operations:{title:l.getLanguage("meTables","operations"),width:"120px",defaultContent:"",sortable:!1,data:null,buttons:{see:{title:l.getLanguage("meTables","operations_see"),className:"btn-success",cClass:"me-table-detail",icon:"fa-search-plus",sClass:"blue","min-icon":"fa-search-plus"},update:{title:l.getLanguage("meTables","operations_update"),className:"btn-info",cClass:"me-table-update",icon:"fa-pencil-square-o",sClass:"green","min-icon":"fa-pencil-square-o"},delete:{title:l.getLanguage("meTables","operations_delete"),className:"btn-danger",cClass:"me-table-delete",icon:"fa-trash-o",sClass:"red","min-icon":"fa-trash-o"}}}},e.meTables=e.mt=function(t){return new l(t)},e.MeTables=l}(window,jQuery);